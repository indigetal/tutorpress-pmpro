(()=>{"use strict";function t(t,n){return i(t)||o(t,n)||e(t,n)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(t,r){if(t){if("string"==typeof t)return n(t,r);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}function n(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function o(t,r){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(e=e.call(t)).next,0===r){if(Object(e)!==e)return;c=!1}else for(;!(c=(n=i.call(e)).done)&&(u.push(n.value),u.length!==r);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=e["return"]&&(a=e["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}function i(t){if(Array.isArray(t))return t}function a(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var e=new FormData;r.forEach(function(r){for(var n=0,o=Object.entries(r);n<o.length;n++){var i=t(o[n],2),a=i[0],u=i[1];e.set(a,u)}});e.set(window.tutor_get_nonce_data(true).key,window.tutor_get_nonce_data(true).value);return e}const u=a;function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var c=n&&n.prototype instanceof u?n:u,f=Object.create(c.prototype);return l(f,"_invoke",function(e,n,o){var i,u,c,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function r(e,n){return i=e,u=0,c=t,p.n=n,a}};function d(e,n){for(u=e,c=n,r=0;!s&&l&&!o&&r<f.length;r++){var o,i=f[r],d=p.p,v=i[2];e>3?(o=v===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=e<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,p.n=v,u=0))}if(o||e>1)return a;throw s=!0,n}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),u=f,c=v;(r=u<2?t:c)||!s;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i["return"])&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((r=(s=p.n<0)?c:e.call(n,p))!==a)break}catch(r){i=t,u=1,c=r}finally{l=1}}return{value:r,done:s}}}(e,o,i),!0),f}var a={};function u(){}function f(){}function s(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(l(r={},n,function(){return this}),r),d=s.prototype=u.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,l(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return f.prototype=s,l(d,"constructor",s),l(s,"constructor",f),f.displayName="GeneratorFunction",l(s,o,"GeneratorFunction"),l(d),l(d,o,"Generator"),l(d,n,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(c=function t(){return{w:i,m:v}})()}function l(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function t(r,e,n,i){function a(t,e){l(r,t,function(r){return this._invoke(t,e,r)})}e?o?o(r,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):r[e]=n:(a("next",0),a("throw",1),a("return",2))},l(t,r,e,n)}function f(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function s(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){f(i,n,o,a,u,"next",t)}function u(t){f(i,n,o,a,u,"throw",t)}a(void 0)})}}function p(t){return d.apply(this,arguments)}function d(){d=s(c().m(function t(r){var e,n;return c().w(function(t){while(1)switch(t.p=t.n){case 0:t.p=0;t.n=1;return fetch(window._tutorobject.ajaxurl,{method:"POST",body:r});case 1:e=t.v;return t.a(2,e);case 2:t.p=2;n=t.v;tutor_toast(__("Operation failed","tutor-pro"),n,"error");case 3:return t.a(2)}},t,null,[[0,2]])}));return d.apply(this,arguments)}function v(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return y(l,"_invoke",function(e,n,o){var i,u,c,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function r(e,n){return i=e,u=0,c=t,p.n=n,a}};function d(e,n){for(u=e,c=n,r=0;!s&&l&&!o&&r<f.length;r++){var o,i=f[r],d=p.p,v=i[2];e>3?(o=v===n)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=e<2&&d<i[1])?(u=0,p.v=n,p.n=i[1]):d<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,p.n=v,u=0))}if(o||e>1)return a;throw s=!0,n}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),u=f,c=v;(r=u<2?t:c)||!s;){i||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i["return"])&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((r=(s=p.n<0)?c:e.call(n,p))!==a)break}catch(r){i=t,u=1,c=r}finally{l=1}}return{value:r,done:s}}}(e,o,i),!0),l}var a={};function u(){}function c(){}function l(){}r=Object.getPrototypeOf;var f=[][n]?r(r([][n]())):(y(r={},n,function(){return this}),r),s=l.prototype=u.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,y(t,o,"GeneratorFunction")),t.prototype=Object.create(s),t}return c.prototype=l,y(s,"constructor",l),y(l,"constructor",c),c.displayName="GeneratorFunction",y(l,o,"GeneratorFunction"),y(s),y(s,o,"Generator"),y(s,n,function(){return this}),y(s,"toString",function(){return"[object Generator]"}),(v=function t(){return{w:i,m:p}})()}function y(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}y=function t(r,e,n,i){function a(t,e){y(r,t,function(r){return this._invoke(t,e,r)})}e?o?o(r,e,{value:n,enumerable:!i,configurable:!i,writable:!i}):r[e]=n:(a("next",0),a("throw",1),a("return",2))},y(t,r,e,n)}function h(t,r,e,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?r(c):Promise.resolve(c).then(n,o)}function b(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var i=t.apply(r,e);function a(t){h(i,n,o,a,u,"next",t)}function u(t){h(i,n,o,a,u,"throw",t)}a(void 0)})}}window.addEventListener("DOMContentLoaded",function(){var t=wp.i18n.__;var r=tutorProSocialLogin,e=r.is_enabled_google_login,n=r.google_client_id;var o=t("Something went wrong, please try again","tutor-pro");var i=document.getElementById("tutor-pro-social-authentication");var a=document.getElementById("tutor-pro-google-authentication");var c=document.querySelector("form input[name=tutor_action]");var l=document.querySelector("form input[name=redirect_to]");var f="tutor_user_login";if(c){f=c.value}if(i){var s=function t(r){var e=r.split(".")[1];var n=e.replace(/-/g,"+").replace(/_/g,"/");var o=decodeURIComponent(atob(n).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(o)};if(e){var d=function(){var r=b(v().m(function r(e){var n,i,a,c,d,y,h,b,g,_;return v().w(function(r){while(1)switch(r.p=r.n){case 0:n=s(e.credential);i=[{action:"tutor_pro_social_authentication"},{auth:"google"},{token:e.credential},{first_name:n.given_name},{last_name:n.family_name},{user_login:n.name.replace(" ","_")},{email:n.email},{auth_user_id:n.sub},{auth_id_token:n.aud},{profile_url:n.picture},{attempt:f}];a=u(i);r.p=1;tutor_toast(t("Authentication Processed","tutor-pro"),t("Please wait...","tutor-pro"),"success");r.n=2;return p(a);case 2:c=r.v;r.n=3;return c.json();case 3:d=r.v;y=d.success,h=d.data;if(!y){r.n=4;break}tutor_toast(t("Authentication success","tutor-pro"),h,"success");if(l){window.location.href=l.value}else{window.location.href=_tutorobject.tutor_frontend_dashboard_url}r.n=6;break;case 4:if(!Array.isArray(h)){r.n=5;break}b=h[0];if(!(b&&b.code==="tutor_login_limit")){r.n=5;break}g=document.querySelector(".tutor-login-form-wrapper");g.insertAdjacentHTML("afterbegin",'<div class="tutor-alert tutor-warning tutor-mb-12" style="display:block;">'.concat(b.message,"</div>"));return r.a(2);case 5:tutor_toast(t("Authentication failed","tutor-pro"),h,"error");case 6:r.n=8;break;case 7:r.p=7;_=r.v;tutor_toast(t("Authentication failed","tutor-pro"),o,"error");case 8:return r.a(2)}},r,null,[[1,7]])}));return function t(e){return r.apply(this,arguments)}}();google.accounts.id.initialize({client_id:n,callback:d});google.accounts.id.renderButton(a,{theme:"outline",size:"large",width:"100%"})}}})})();