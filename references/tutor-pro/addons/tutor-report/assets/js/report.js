(()=>{"use strict";function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,n,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function c(t,o,a,i){var c=o&&o.prototype instanceof l?o:l,s=Object.create(c.prototype);return e(s,"_invoke",function(t,e,o){var a,i,c,l=0,s=o||[],f=!1,d={p:0,n:0,v:r,a:v,f:v.bind(r,4),d:function t(e,n){return a=e,i=0,c=r,d.n=n,u}};function v(t,e){for(i=t,c=e,n=0;!f&&l&&!o&&n<s.length;n++){var o,a=s[n],v=d.p,p=a[2];t>3?(o=p===e)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=r):a[0]<=v&&((o=t<2&&v<a[1])?(i=0,d.v=e,d.n=a[1]):v<p&&(o=t<3||a[0]>e||e>p)&&(a[4]=t,a[5]=e,d.n=p,i=0))}if(o||t>1)return u;throw f=!0,e}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,p),i=s,c=p;(n=i<2?r:c)||!f;){a||(i?i<3?(i>1&&(d.n=-1),v(i,c)):d.n=c:d.v=c);try{if(l=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,i<2&&(i=0)}else 1===i&&(n=a["return"])&&n.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=r}else if((n=(f=d.n<0)?c:t.call(e,d))!==u)break}catch(t){a=r,i=1,c=t}finally{l=1}}return{value:n,done:f}}}(t,a,i),!0),s}var u={};function l(){}function s(){}function f(){}n=Object.getPrototypeOf;var d=[][a]?n(n([][a]())):(e(n={},a,function(){return this}),n),v=f.prototype=l.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,e(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=f,e(v,"constructor",f),e(f,"constructor",s),s.displayName="GeneratorFunction",e(f,i,"GeneratorFunction"),e(v),e(v,i,"Generator"),e(v,a,function(){return this}),e(v,"toString",function(){return"[object Generator]"}),(t=function t(){return{w:c,m:p}})()}function e(t,r,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}e=function t(r,n,o,i){function c(t,n){e(r,t,function(e){return this._invoke(t,n,e)})}n?a?a(r,n,{value:o,enumerable:!i,configurable:!i,writable:!i}):r[n]=o:(c("next",0),c("throw",1),c("return",2))},e(t,r,n,o)}function r(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function n(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function c(t){r(i,o,a,c,u,"next",t)}function u(t){r(i,o,a,c,u,"throw",t)}c(void 0)})}}function o(t){return a.apply(this,arguments)}function a(){a=n(t().m(function e(r){var n,o;return t().w(function(t){while(1)switch(t.p=t.n){case 0:t.p=0;t.n=1;return fetch(window._tutorobject.ajaxurl,{method:"POST",body:r});case 1:n=t.v;return t.a(2,n);case 2:t.p=2;o=t.v;tutor_toast(__("Operation failed","tutor-pro"),o,"error");case 3:return t.a(2)}},e,null,[[0,2]])}));return a.apply(this,arguments)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var i=n&&n.prototype instanceof l?n:l,s=Object.create(i.prototype);return c(s,"_invoke",function(r,n,o){var a,i,c,l=0,s=o||[],f=!1,d={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function e(r,n){return a=r,i=0,c=t,d.n=n,u}};function v(r,n){for(i=r,c=n,e=0;!f&&l&&!o&&e<s.length;e++){var o,a=s[e],v=d.p,p=a[2];r>3?(o=p===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=r<2&&v<a[1])?(i=0,d.v=n,d.n=a[1]):v<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,d.n=p,i=0))}if(o||r>1)return u;throw f=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,p),i=s,c=p;(e=i<2?t:c)||!f;){a||(i?i<3?(i>1&&(d.n=-1),v(i,c)):d.n=c:d.v=c);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a["return"])&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=d.n<0)?c:r.call(n,d))!==u)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:e,done:f}}}(r,o,a),!0),s}var u={};function l(){}function s(){}function f(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(c(e={},n,function(){return this}),e),v=f.prototype=l.prototype=Object.create(d);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=f,c(v,"constructor",f),c(f,"constructor",s),s.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(v),c(v,o,"Generator"),c(v,n,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),(i=function t(){return{w:a,m:p}})()}function c(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function t(e,r,n,a){function i(t,r){c(e,t,function(e){return this._invoke(t,r,e)})}r?o?o(e,r,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[r]=n:(i("next",0),i("throw",1),i("return",2))},c(t,e,r,n)}function u(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)})}}function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function t(){};return{s:o,n:function e(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function t(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function e(){r=r.call(t)},n:function t(){var e=r.next();return i=e.done,e},e:function t(e){c=!0,a=e},f:function t(){try{i||null==r["return"]||r["return"]()}finally{if(c)throw a}}}}function f(t,e){if(t){if("string"==typeof t)return d(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}jQuery(document).ready(function(t){"use strict";var e=wp.i18n,r=e.__,n=e._x,a=e._n,c=e._nx;var u=document.getElementById("tutor-common-confirmation-modal");var f=document.getElementById("tutor-common-confirmation-form");t(document).on("click",".tutor-quiz-attempt-delete-btn",function(e){e.preventDefault();var r=t(this);t.ajax({url:ajaxurl,type:"POST",data:{attempt_id:r.attr("data-attempt-id"),action:"treport_quiz_atttempt_delete"},beforeSend:function t(){r.addClass("updating-message")},success:function t(e){if(e.success){r.closest("tr").remove()}},complete:function t(){r.removeClass("updating-message")}})});function d(t,e){var r=new URL(window.location.href);var n=r.searchParams;n.set(t,e);r.search=n.toString();n.set("paged",1);r.search=n.toString();return r.toString()}t(".tutor-report-category").on("change",function(e){window.location=d("cat",t(this).val())});t(".tutor-report-sort").on("change",function(e){window.location=d("order",t(this).val())});t(".tutor-report-date").on("change",function(e){window.location=d("date",t(this).val())});t(document).on("click",".tutor-report-search-btn",function(e){window.location=d("search",t(".tutor-report-search").val())});t(document).on("click",".tutor-report-search-action",function(e){e.preventDefault();window.location=d("search",t(".tutor-report-search").val())});t(document).on("click",".details-link",function(e){e.preventDefault();if(t(this).hasClass("active")){t(this).removeClass("active")}else{t(this).addClass("active")}var r=t("#table-toggle-"+t(this).data("count"));if(r.hasClass("open")){r.removeClass("open")}else{r.addClass("open")}});var v=document.querySelectorAll(".tutor-delete-recent-reviews");var p=document.getElementById("tutor-admin-reviews-table");var h=s(v),y;try{for(h.s();!(y=h.n()).done;){var m=y.value;if(m){m.onclick=function(){var t=l(i().m(function t(e){var r;return i().w(function(t){while(1)switch(t.n){case 0:r=e.currentTarget.dataset.id;if(f){f.elements.action.value="tutor_delete_review";f.elements.id.value=r}case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()}}}catch(t){h.e(t)}finally{h.f()}if(f){f.onsubmit=function(){var t=l(i().m(function t(e){var n,a,c,l,s;return i().w(function(t){while(1)switch(t.n){case 0:e.preventDefault();n=new FormData(f);a=f.querySelector("[data-tutor-modal-submit]");a.classList.add("is-loading");t.n=1;return o(n);case 1:c=t.v;if(u.classList.contains("tutor-is-active")){u.classList.remove("tutor-is-active");document.body.classList.remove("tutor-modal-open")}if(!c.ok){t.n=3;break}t.n=2;return c.json();case 2:l=t.v;if(l){if(p&&n.get("action")=="tutor_delete_review"){tutor_toast(r("Delete","tutor-pro"),r("Review has been deleted ","tutor-pro"),"success");if(p.rows.length<3){location.reload()}else{s=p.querySelector('a[data-id="'.concat(n.get("id"),'"]'));if(s){s.closest("tr").remove()}}}else{location.reload()}}else{tutor_toast(r("Failed","tutor-pro"),r("Review delete failed ","tutor-pro"),"error")}t.n=4;break;case 3:tutor_toast(r("Failed","tutor-pro"),r("Review delete failed ","tutor-pro"),"error");case 4:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()}})})();