(()=>{"use strict";function t(t,n){return a(t)||o(t,n)||r(t,n)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function o(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,u,i=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(i.push(n.value),i.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r["return"]&&(u=r["return"](),Object(u)!==u))return}finally{if(l)throw o}}return i}}function a(t){if(Array.isArray(t))return t}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var r=new FormData;e.forEach(function(e){for(var n=0,o=Object.entries(e);n<o.length;n++){var a=t(o[n],2),u=a[0],i=a[1];r.set(u,i)}});r.set(window.tutor_get_nonce_data(true).key,window.tutor_get_nonce_data(true).value);return r}const i=u;function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof i?n:i,s=Object.create(c.prototype);return l(s,"_invoke",function(r,n,o){var a,i,c,l=0,s=o||[],d=!1,f={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function e(r,n){return a=r,i=0,c=t,f.n=n,u}};function v(r,n){for(i=r,c=n,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],v=f.p,p=a[2];r>3?(o=p===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=r<2&&v<a[1])?(i=0,f.v=n,f.n=a[1]):v<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,f.n=p,i=0))}if(o||r>1)return u;throw d=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,p),i=s,c=p;(e=i<2?t:c)||!d;){a||(i?i<3?(i>1&&(f.n=-1),v(i,c)):f.n=c:f.v=c);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a["return"])&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(d=f.n<0)?c:r.call(n,f))!==u)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:e,done:d}}}(r,o,a),!0),s}var u={};function i(){}function s(){}function d(){}e=Object.getPrototypeOf;var f=[][n]?e(e([][n]())):(l(e={},n,function(){return this}),e),v=d.prototype=i.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=d,l(v,"constructor",d),l(d,"constructor",s),s.displayName="GeneratorFunction",l(d,o,"GeneratorFunction"),l(v),l(v,o,"Generator"),l(v,n,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),(c=function t(){return{w:a,m:p}})()}function l(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function t(e,r,n,a){function u(t,r){l(e,t,function(e){return this._invoke(t,r,e)})}r?o?o(e,r,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[r]=n:(u("next",0),u("throw",1),u("return",2))},l(t,e,r,n)}function s(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(t){s(a,n,o,u,i,"next",t)}function i(t){s(a,n,o,u,i,"throw",t)}u(void 0)})}}function f(t){return v.apply(this,arguments)}function v(){v=d(c().m(function t(e){var r,n;return c().w(function(t){while(1)switch(t.p=t.n){case 0:t.p=0;t.n=1;return fetch(window._tutorobject.ajaxurl,{method:"POST",body:e});case 1:r=t.v;return t.a(2,r);case 2:t.p=2;n=t.v;tutor_toast(__("Operation failed","tutor-pro"),n,"error");case 3:return t.a(2)}},t,null,[[0,2]])}));return v.apply(this,arguments)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof i?n:i,l=Object.create(c.prototype);return y(l,"_invoke",function(r,n,o){var a,i,c,l=0,s=o||[],d=!1,f={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function e(r,n){return a=r,i=0,c=t,f.n=n,u}};function v(r,n){for(i=r,c=n,e=0;!d&&l&&!o&&e<s.length;e++){var o,a=s[e],v=f.p,p=a[2];r>3?(o=p===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=r<2&&v<a[1])?(i=0,f.v=n,f.n=a[1]):v<p&&(o=r<3||a[0]>n||n>p)&&(a[4]=r,a[5]=n,f.n=p,i=0))}if(o||r>1)return u;throw d=!0,n}return function(o,s,p){if(l>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,p),i=s,c=p;(e=i<2?t:c)||!d;){a||(i?i<3?(i>1&&(f.n=-1),v(i,c)):f.n=c:f.v=c);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=a["return"])&&e.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(d=f.n<0)?c:r.call(n,f))!==u)break}catch(e){a=t,i=1,c=e}finally{l=1}}return{value:e,done:d}}}(r,o,a),!0),l}var u={};function i(){}function c(){}function l(){}e=Object.getPrototypeOf;var s=[][n]?e(e([][n]())):(y(e={},n,function(){return this}),e),d=l.prototype=i.prototype=Object.create(s);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,y(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return c.prototype=l,y(d,"constructor",l),y(l,"constructor",c),c.displayName="GeneratorFunction",y(l,o,"GeneratorFunction"),y(d),y(d,o,"Generator"),y(d,n,function(){return this}),y(d,"toString",function(){return"[object Generator]"}),(p=function t(){return{w:a,m:f}})()}function y(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}y=function t(e,r,n,a){function u(t,r){y(e,t,function(e){return this._invoke(t,r,e)})}r?o?o(e,r,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[r]=n:(u("next",0),u("throw",1),u("return",2))},y(t,e,r,n)}function m(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function b(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function u(t){m(a,n,o,u,i,"next",t)}function i(t){m(a,n,o,u,i,"throw",t)}u(void 0)})}}document.addEventListener("DOMContentLoaded",function(){var t=wp.i18n.__;var e=t("Something went wrong!","tutor-pro");var r=document.querySelectorAll(".tutor-extend-enrollment");r.forEach(function(e){e.addEventListener("click",function(){var r=document.querySelector("#tutor-enrollment-extend-modal");var n=r.querySelector(".tutor-extend-modal-course");var o=r.querySelector(".tutor-extend-modal-user");var a=r.querySelector(".tutor-extend-modal-enroll-expire");var u=JSON.parse(e.getAttribute("data-modal-data"));n.innerHTML='\n                <div class="tutor-extend-modal-course-thumb">\n                    <img src="'.concat(u.course_thumb,'" />\n                </div>\n                <div class="tutor-extend-modal-course-title">\n                    <a href="').concat(u.course_url,'" target="_blank">\n                        ').concat(u.course_title,"\n                    </a>\n                </div>\n            ");o.innerHTML='\n                <div class="tutor-d-flex align-items-center tutor-gap-1">\n                    <img class="tutor-avatar tutor-avatar-sm" src="'.concat(u.user_avatar,'" alt="').concat(u.user_name,'" />\n                    <div>\n                        <div class="tutor-fs-6 tutor-fw-medium tutor-color-black">').concat(u.user_name,'</div>\n                        <div class="tutor-color-subdued tutor-fs-7">').concat(u.user_email,"</div>\n                    </div>\n                </div>    \n            ");a.innerHTML='\n                <input type="hidden" name="enrollment_id" value="'.concat(u.enrol_id,'" />\n                <div class="tutor-color-secondary tutor-mb-4">\n                    ').concat(u.is_expired?t("Enrollment Expired On","tutor-pro"):t("Enrollment Expires On","tutor-pro"),'\n                </div>\n                <div class="tutor-color-danger tutor-mb-12">').concat(u.expiry_date_readable,'</div>\n                <label class="tutor-color-secondary tutor-mb-4 tutor-d-block">\n                    ').concat(t("Extend Until","tutor-pro"),'\n                </label>\n                <div class="tutor-v2-date-picker" data-prevent_redirect="1" data-input_name="enroll_extend_date" data-input_value="').concat(u.expiry_date,'" data-disable_past_date="1"></div>\n            ');window.dispatchEvent(new Event("tutor_content_changed_event"));r.classList.add("tutor-is-active");document.querySelector("body").classList.add("tutor-modal-open")})});var n=document.querySelector("#tutor-enrollment-extend-submit-btn");n===null||n===void 0||n.addEventListener("click",b(p().m(function r(){var o,a,u,c,l,s,d,v,y;return p().w(function(r){while(1)switch(r.p=r.n){case 0:n.classList.add("is-loading");o=document.querySelector("#tutor-enrollment-extend-modal");a=o.querySelector("input[name='enroll_extend_date']").value;u=o.querySelector("input[name='enrollment_id']").value;c=i([{action:"tutor_pro_enrollment_extend"},{enrollment_id:u},{extend_date:a}]);r.p=1;r.n=2;return f(c);case 2:l=r.v;r.n=3;return l.json();case 3:s=r.v;d=s.status_code;v=s.message;if(d===200){tutor_toast(t("Success","tutor-pro"),v,"success");window.location.reload()}else{tutor_toast(t("Failed","tutor-pro"),v,"error")}r.n=5;break;case 4:r.p=4;y=r.v;tutor_toast(t("Operation failed","tutor-pro"),e,"error");case 5:r.p=5;n.classList.remove("is-loading");return r.f(5);case 6:return r.a(2)}},r,null,[[1,4,5,6]])})))})})();